-- Addon Name: Dolgubon's Lazy Writ Crafter
-- Creator: Dolgubon (Joseph Heinzle)
-- Addon Ideal: Simplifies Crafting Writs as much as possible
-- Addon Creation Date: March 14, 2016
--
-- File Name: Languages/default.lua
-- File Description: Default language file
-- Load Order Requirements: Before the language file
-- 
-----------------------------------------------------------------------------------
--[[
function WritCreater.language()

	return false

end

local function myLower(str)
	return zo_strformat("<<z:1>>",str)
end

function WritCreater.getWritAndSurveyType(link)
	if not WritCreater.langCraftKernels then return end
	local itemName = GetItemLinkName(link)
	local kernels = WritCreater.langCraftKernels()
	local craftType
	for craft, kernel in pairs(kernels) do
		if string.find(myLower(itemName), myLower(kernel)) then
			craftType = craft
		end
	end
	return craftType
end
--]]
local function proper(str)
	if type(str)== "string" then
		return zo_strformat("<<C:1>>",str)
	else
		return str
	end
end

WritCreater.hirelingMailSubjects = 
{
	["附魔师原材料"] = true ,
	["制衣匠原材料"] = true ,
	["铁匠原材料"] = true ,
	["木匠原材料"] = true ,
	["厨师原材料"] = true ,
}

--WritCreater.lang = "none"

-- This is in the default, so that if a new setting is added an error is not thrown, 
-- and the addon instead uses the English option strings for any that are missing.

local function runeMissingFunction (ta,essence,potency)
	local missing = {}
	if not ta["bag"] then
		missing[#missing + 1] = "|r塔|cf60000"
	end
	if not essence["bag"] then
		missing[#missing + 1] =  "|cffcc66"..essence["slot"].."|cf60000"
	end
	if not potency["bag"] then
		missing[#missing + 1] = "|c0066ff"..potency["slot"].."|r"
	end
	local text = ""
	for i = 1, #missing do
		if i ==1 then
			text = "|cff3333无法自动制造附魔雕文。你缺少 "..proper(missing[i])
		else
			text = text.." 和 "..proper(missing[i])
		end
	end
	return text
end


local function dailyResetFunction(till, stamp) -- You can translate the following simple version instead.
										-- function (till) d(zo_strformat("<<1>> hours and <<2>> minutes until the daily reset.",till["hour"],till["minute"])) end,
	if till["hour"]==0 then
		if till["minute"]==1 then
			return "还有 1 分钟后制造日常重置!"
		elseif till["minute"]==0 then
			if stamp==1 then
				return "制造日常重置还剩 "..stamp.." 秒!"
			else
				return "真的... 别问了。你真有那么着急么??? 它会在一秒内重置! *哼~哼*"
			end
		else
			return till["minute"].." 分钟后制造日常将重置!"
		end
	elseif till["hour"]==1 then
		if till["minute"]==1 then
			return till["hour"].." 小时 "..till["minute"].." 分钟 后制造日常重置"
		else
			return till["hour"].." 小时 "..till["minute"].." 分钟 后制造日常重置"
		end
	else
		if till["minute"]==1 then
			return till["hour"].." 小时 "..till["minute"].." 分钟 后制造日常重置"
		else
			return till["hour"].." 小时 "..till["minute"].." 分钟 后制造日常重置"
		end
	end 
end

local function masterWritEnchantToCraft (pat,set,trait,style,qual,mat,writName,Mname,generalName)
	local partialString = zo_strformat("制造一个 CP150 <<t:6>> <<t:1>> 带有 <<t:2>> 套装，<<t:3>> 特质， <<t:4>> 风格以及 <<t:5>> 品质等属性",pat,set,trait,style,qual,mat)
	return zo_strformat("<<t:2>> <<t:3>> <<t:4>>: <<1>>",partialString,writName,Mname,generalName )
end
--[[
WritCreater.missingTranslations = {}
local stringIndexTable = {}
local findMissingTranslationsMetatable = 
{
["__newindex"] = function(t,k,v) if not stringIndexTable[tostring(t)] then stringIndexTable[tostring(t)] = {} end stringIndexTable[tostring(t)][k] = v WritCreater.missingTranslations[k] = {k, v} end,
["__index"] = function(t, k) return stringIndexTable[tostring(t)][k] end,
}
--]]
WritCreater.strings = {}
--setmetatable(WritCreater.strings, findMissingTranslationsMetatable)

WritCreater.strings["runeReq"] 					= function (essence, potency) return zo_strformat("|c2dff00制造需要 1个 |r塔|c2dff00, 1个 |cffcc66<<1>>|c2dff00 和 1个 |c0066ff<<2>>|r", essence, potency) end
WritCreater.strings["runeMissing"] 				= runeMissingFunction 
WritCreater.strings["notEnoughSkill"]				= "你没有足够的制造技能来制造所需的装备"
WritCreater.strings["smithingMissing"] 			= "\n|cf60000你没有足够的材料|r"
WritCreater.strings["craftAnyway"] 				= "先制造再说"
WritCreater.strings["smithingEnough"] 				= "\n|c2dff00你的材料充足|r"
WritCreater.strings["craft"] 						= "|c00ff00制造|r"
WritCreater.strings["crafting"] 					= "|c00ff00制造中...|r"
WritCreater.strings["craftIncomplete"] 			= "|cf60000制造可能无法完成。\n你需要更多材料。|r"
WritCreater.strings["moreStyle"] 					= "|cf60000您没有任何可用的风格材料。\n检查你的物品栏, 成就, 和设置。|r"
WritCreater.strings["moreStyleSettings"]			= "|cf60000您没有任何可用的风格材料。\n您可能需要在设置菜单中允许更多|r"
WritCreater.strings["moreStyleKnowledge"]			= "|cf60000您没有任何可用的风格材料。\n您可能需要学习更多的风格|r"
WritCreater.strings["dailyreset"] 					= dailyResetFunction
WritCreater.strings["complete"] 					= "|c00FF00委托完成|r"
WritCreater.strings["craftingstopped"]				= "制造终止。请检查以确保插件正在制作正确的物品。"
WritCreater.strings["smithingReqM"] 				= function (amount, type, more) return zo_strformat( "制造将使用 <<1>> <<2>> (|cf60000你需要 <<3>>|r)" ,amount, type, more) end
WritCreater.strings["smithingReq"] 				= function (amount,type, current) return zo_strformat( "制造将使用 <<1>> <<2>> (|c2dff00<<3>> 可用|r)"  ,amount, type, current) end
WritCreater.strings["lootReceived"]				= "<<3>> <<1>> 被收到 (你有 <<2>>)"
WritCreater.strings["lootReceivedM"]				= "<<1>> 被收到 "
WritCreater.strings["countSurveys"]				= "你有 <<1>> 调查报告"
WritCreater.strings["countVouchers"]				= "你有 <<1>> 未获得的委托券"
WritCreater.strings["includesStorage"]				= function(type) local a= {"调查报告", "大师委托"} a = a[type] return zo_strformat("包括 <<1>> 房屋储存", a) end
WritCreater.strings["surveys"]						= "调查报告"
WritCreater.strings["sealedWrits"]					= "密封的状令"
WritCreater.strings["masterWritEnchantToCraft"]	= function(lvl, type, quality, writCraft, writName, generalName) 
										return zo_strformat("<<t:4>> <<t:5>> <<t:6>>: 正在制造一个 <<t:2>> 等级 <<t:3>> 类型的 <<t:1>> 附魔雕文",lvl, type, quality,
											writCraft,writName, generalName) end
WritCreater.strings["masterWritSmithToCraft"]		= masterWritEnchantToCraft
WritCreater.strings["withdrawItem"]				= function(amount, link, remaining) return "懒人委托插件 取出了 "..amount.." "..link.."。(银行剩余"..remaining..")" end  -- in Bank for German
WritCreater.strings['fullBag']						= "你没有足够的背包空间。请清理你的背包。"
WritCreater.strings['masterWritSave']				= "懒人委托插件 阻止了你意外接受一个大师委托! 设置菜单以禁用此选项。"
WritCreater.strings['missingLibraries']			= "懒人委托插件 需要以下运行库。请下载、安装或打开这些运行库: "
WritCreater.strings['resetWarningMessageText']		= "日常状令将在 <<1>> 小时 <<2>> 分钟 后刷新\n您可以在设置中自定义或关闭此警告"
WritCreater.strings['resetWarningExampleText']		= "警告将是这样"




WritCreater.optionStrings = {}

--setmetatable(WritCreater.optionStrings, findMissingTranslationsMetatable)

WritCreater.optionStrings.nowEditing                   = "你正在更改 %s 设置"
WritCreater.optionStrings.accountWide                  = "账户全局"
WritCreater.optionStrings.characterSpecific            = "角色独立"
WritCreater.optionStrings.useCharacterSettings         = "使用角色设置" -- de
WritCreater.optionStrings.useCharacterSettingsTooltip  = "仅对该角色使用独立于其他角色的设置" --de
WritCreater.optionStrings["style tooltip"]								= function (styleName, styleStone) return zo_strformat("允许 <<1>> 风格, 将使用 <<2>> 风格材料用于制造",styleName, styleStone) end 
WritCreater.optionStrings["show craft window"]							= "显示制造窗口"
WritCreater.optionStrings["show craft window tooltip"]					= "当制作台打开时显示制造窗口"
WritCreater.optionStrings["autocraft"]									= "自动制造"
WritCreater.optionStrings["autocraft tooltip"]							= "选择此选项将使插件在进入一个制作台后立即开始制造。如果选择不显示窗口, 此功能会被打开."
WritCreater.optionStrings["blackmithing"]								= "锻造"
WritCreater.optionStrings["blacksmithing tooltip"]						= "为锻造打开此插件"
WritCreater.optionStrings["clothing"]									= "制衣"
WritCreater.optionStrings["clothing tooltip"]							= "为制衣打开此插件"
WritCreater.optionStrings["enchanting"]									= "附魔"
WritCreater.optionStrings["enchanting tooltip"]							= "为附魔打开此插件"
WritCreater.optionStrings["alchemy"]									= "炼金"
WritCreater.optionStrings["alchemy tooltip"]							= "为炼金打开此插件(只开启取出银行功能)"
WritCreater.optionStrings["provisioning"]								= "烹饪"
WritCreater.optionStrings["provisioning tooltip"]						= "为烹饪打开此插件(只开启取出银行功能)"
WritCreater.optionStrings["woodworking"]								= "木工"
WritCreater.optionStrings["woodworking tooltip"]						= "为木工打开此插件"
WritCreater.optionStrings["jewelry crafting"]							= "珠宝制作"
WritCreater.optionStrings["jewelry crafting tooltip"]					= "为珠宝制作打开此插件"
WritCreater.optionStrings["writ grabbing"]								= "取出委托物品"
WritCreater.optionStrings["writ grabbing tooltip"]						= "从银行获取委托所需的物品 (例如 奈恩根, 塔, 之类的)"
WritCreater.optionStrings["style stone menu"]							= "使用风格材料"
WritCreater.optionStrings["style stone menu tooltip"]					= "选择插件将使用哪些风格材料"
WritCreater.optionStrings["send data"]									= "发送委托数据"
WritCreater.optionStrings["send data tooltip"]							= "发送你从委托盒子中收到的奖励信息。不会发送其他信息。"
WritCreater.optionStrings["exit when done"]								= "退出制造窗口"
WritCreater.optionStrings["exit when done tooltip"]						= "完成所有的制造后退出制造窗口"
WritCreater.optionStrings["automatic complete"]							= "自动任务对话框"
WritCreater.optionStrings["automatic complete tooltip"]					= "在需要的地方自动接受和完成任务"
WritCreater.optionStrings["new container"]								= "保持新状态"
WritCreater.optionStrings["new container tooltip"]						= "保持委托奖励容器的新状态"
WritCreater.optionStrings["master"]										= "大师委托"
WritCreater.optionStrings["master tooltip"]								= "如果开启，插件会制造你已激活的大师委托"
WritCreater.optionStrings["right click to craft"]						= "右击制作"
WritCreater.optionStrings["right click to craft tooltip"]				= "如果开启，右键点击一个密封的委托后，插件将制作你制定的大师委托。需要打开LibCustomMenu插件。"
WritCreater.optionStrings["crafting submenu"]							= "为交易而制造"
WritCreater.optionStrings["crafting submenu tooltip"]					= "为特殊制造关闭插件"
WritCreater.optionStrings["timesavers submenu"]							= "节省时间"
WritCreater.optionStrings["timesavers submenu tooltip"]					= "各种节省时间的小功能"
WritCreater.optionStrings["loot container"]								= "收到容器时打开"
WritCreater.optionStrings["loot container tooltip"]						= "当收到委托奖励容器时打开他们"
WritCreater.optionStrings["master writ saver"]							= "保存大师委托"
WritCreater.optionStrings["master writ saver tooltip"]					= "防止大师委托被接受"
WritCreater.optionStrings["loot output"]								= "高价奖励提醒"
WritCreater.optionStrings["loot output tooltip"]						= "当从委托奖励中收到有价值的物品时，输出一条消息"
WritCreater.optionStrings["autoloot behaviour"]							= "自动开箱行为" -- Note that the following three come early in the settings menu, but becuse they were changed
WritCreater.optionStrings["autoloot behaviour tooltip"]					= "选择什么时候插件将自动开启委托奖励容器" -- they are now down below (with untranslated stuff)
WritCreater.optionStrings["autoloot behaviour choices"]					= {"复制游戏设置下的设置", "自动开箱", "不要自动开箱"}
WritCreater.optionStrings["hide when done"]								= "完成时隐藏"
WritCreater.optionStrings["hide when done tooltip"]						= "所有项目都已制作完成时，隐藏插件窗口"
WritCreater.optionStrings['reticleColour']								= "改变光标颜色"
WritCreater.optionStrings['reticleColourTooltip']						= "如果你在制作台有未完成或已完成的委托，改变光标颜色"
WritCreater.optionStrings['autoCloseBank']								= "自动银行对话框"
WritCreater.optionStrings['autoCloseBankTooltip']						= "如有要取出的物品，则自动进入和退出银行对话框"
WritCreater.optionStrings['despawnBanker']							= "解散银行助手"
WritCreater.optionStrings['despawnBankerTooltip']					= "取出物品后自动解散银行助手"
WritCreater.optionStrings['dailyResetWarnTime']								= "距重置剩余分钟"
WritCreater.optionStrings['dailyResetWarnTimeTooltip']						= "在日常任务重置前多少分钟显示警告"
WritCreater.optionStrings['dailyResetWarnType']							= "日常重置提醒"
WritCreater.optionStrings['dailyResetWarnTypeTooltip']					= "当每日重置即将发生时，应该显示哪种类型的警告"
WritCreater.optionStrings['dailyResetWarnTypeChoices']					={ "无","类型 1", "类型 2", "类型 3", "类型 4", "全部"}
WritCreater.optionStrings['stealingProtection']							= "偷窃保护"
WritCreater.optionStrings['stealingProtectionTooltip']					= "当您的任务日志中有委托任务时，防止您误操作导致偷窃"
WritCreater.optionStrings['noDELETEConfirmJewelry']						= "简单珠宝委托销毁"
WritCreater.optionStrings['noDELETEConfirmJewelryTooltip']				= "在删除珠宝委托对话框中自动输入'DELETE'文本来销毁珠宝委托"
WritCreater.optionStrings['suppressQuestAnnouncements']					= "隐藏委托任务公告"
WritCreater.optionStrings['suppressQuestAnnouncementsTooltip']			= "当你接下委托任务和制造委托物品时，隐藏屏幕中央的公告文本"
WritCreater.optionStrings["questBuffer"]								= "委托任务缓冲区"
WritCreater.optionStrings["questBufferTooltip"]							= "保留一个任务缓冲区，这样就可以保障你有空间去接委托任务"
WritCreater.optionStrings["craftMultiplier"]							= "批量制造器"
WritCreater.optionStrings["craftMultiplierTooltip"]						= "制作多份所需物品以便下次出现相同委托的时候，你不需要再次制造。注意: 每增加1个以上，节省大约37个栏位"
WritCreater.optionStrings['hireling behaviour']							= "雇佣邮件动作"
WritCreater.optionStrings['hireling behaviour tooltip']					= "如何处理雇佣邮件"
WritCreater.optionStrings['hireling behaviour choices']					= { "无处理","拿取并删除", "仅拿取"}


WritCreater.optionStrings["allReward"]									= "所有制造"
WritCreater.optionStrings["allRewardTooltip"]							= "对所有制造类所采取的动作"

WritCreater.optionStrings['sameForALlCrafts']							= "对所有使用相同选项"
WritCreater.optionStrings['sameForALlCraftsTooltip']					= "对所有制造类使用与此类奖励相同的选项"
WritCreater.optionStrings['1Reward']									= "锻造"
WritCreater.optionStrings['2Reward']									= "对所有使用"
WritCreater.optionStrings['3Reward']									= "对所有使用"
WritCreater.optionStrings['4Reward']									= "对所有使用"
WritCreater.optionStrings['5Reward']									= "对所有使用"
WritCreater.optionStrings['6Reward']									= "对所有使用"
WritCreater.optionStrings['7Reward']									= "对所有使用"

WritCreater.optionStrings["matsReward"]									= "材料奖励"
WritCreater.optionStrings["matsRewardTooltip"]							= "如何处理制造材料奖励"
WritCreater.optionStrings["surveyReward"]								= "调查报告奖励"
WritCreater.optionStrings["surveyRewardTooltip"]						= "如何处理调查报告奖励"
WritCreater.optionStrings["masterReward"]								= "大师委托奖励"
WritCreater.optionStrings["masterRewardTooltip"]						= "如何处理大师委托奖励"
WritCreater.optionStrings["repairReward"]								= "修理包奖励"
WritCreater.optionStrings["repairRewardTooltip"]						= "如何处理修理包奖励"
WritCreater.optionStrings["ornateReward"]								= "华丽装备奖励"
WritCreater.optionStrings["ornateRewardTooltip"]						= "如何处理华丽装备奖励"
WritCreater.optionStrings["intricateReward"]							= "精巧装备奖励"
WritCreater.optionStrings["intricateRewardTooltip"]						= "如何处理精巧装备奖励"
WritCreater.optionStrings["soulGemReward"]								= "空灵魂石"
WritCreater.optionStrings["soulGemTooltip"]								= "如何处理空灵魂石"
WritCreater.optionStrings["glyphReward"]								= "雕文"
WritCreater.optionStrings["glyphRewardTooltip"]							= "如何处理雕文"
WritCreater.optionStrings["recipeReward"]								= "配方"
WritCreater.optionStrings["recipeRewardTooltip"]						= "如何处理配方"
WritCreater.optionStrings["fragmentReward"]								= "塞伊克碎片"
WritCreater.optionStrings["fragmentRewardTooltip"]						= "如何处理塞伊克碎片"


WritCreater.optionStrings["writRewards submenu"]						= "委托奖励处理"
WritCreater.optionStrings["writRewards submenu tooltip"]				= "怎么处理所有来自委托的奖励"

WritCreater.optionStrings["jubilee"]									= "打开周年纪念盒子"
WritCreater.optionStrings["jubilee tooltip"]							= "自动打开周年纪念盒子"
WritCreater.optionStrings["skin"]										= "委托助手皮肤"
WritCreater.optionStrings["skinTooltip"]								= "委托助手UI皮肤"
WritCreater.optionStrings["skinOptions"]								= {"默认", "奶酪化"}

WritCreater.optionStrings["rewardChoices"]								= {"无","存入银行","垃圾", "摧毁"}
WritCreater.optionStrings["scan for unopened"]							= "登录时打开容器"
WritCreater.optionStrings["scan for unopened tooltip"]					= "当您登录时，扫描背包中未打开的委托容器，并试图打开它们"


--findMissingTranslationsMetatable["__newindex"] = function(t,k,v)WritCreater.missingTranslations[k] = nil rawset(t,k,v)  end
ZO_CreateStringId("SI_BINDING_NAME_WRIT_CRAFTER_CRAFT_ITEMS", "制造物品")
ZO_CreateStringId("SI_BINDING_NAME_WRIT_CRAFTER_OPEN", "显示委托制造器统计窗口")
																		-- CSA, ZO_Alert, chat message, window
--[[
WritCreater.cheeseyLocalizations
=
{
	['reward'] = "-1 Sanity",
	['rewardStylized'] = "-1 |cFFFFFF[Sanity]|",
	['finalReward'] = "Complete them all and find out!",
	['menuName'] = "Cheesy",
	['endeavorName'] = "Cheesy Endeavors",
	['tasks']={
		{name="Profess your love for cheese",completion = "Now the whole world knows how much you love cheese!",
			description="Say 'I love cheese!' in chat"},
		{name = "Visit Uncle Sheo", completion = "Uncle Sheo was happy to see you! And sad. And cheesy. And punchy!",
			description="Find and talk to Sheogorath. He's pretty lonely and wants to see you again!"},
		{name = "Play some terrible music", completion = "Ouch! Your ears hurt from that terrible music.",
			description="Use a music emote"},
		{name = "Throw away some cheese", completion = "You threw away some cheese. It was probably moldy anyway...",
			description="Destroy 1 |H1:item:27057:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0|h|h. Yes, it's crazy, but that's the point!"},
		{name = "Read a cheesy book", completion = "What a heartwarming sock. Cheese - no, I mean book!",
			description="Read the book |H0:item:121046:364:50:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:10000:0|h|h"},
		{name = "Complete all other Cheesy Endeavours", completion = "Cheese! Cheese! Cheese everywhere! Even... while doing writs?",
		description="Sheogorath will be very pleased if you complete them all!"},
	},
	['allComplete'] = "All cheesy endeavors completed!",
	['chatbingo'] = "ilovecheese",
	["cheatyCheeseBook"] = "Maybe you're going crazy, but you don't seem to remember that book...",
}

WritCreater.cheeseBingos=
{
	["ichliebekase"] = true,
	["ilovecheese"] = true,
	["jadorelefromage"] = true,
}
--]]







-----------------------------------------------------------------------------------
-- Addon Name: Dolgubon's Lazy Writ Crafter
-- Creator: Dolgubon (Joseph Heinzle)
-- Addon Ideal: Simplifies Crafting Writs as much as possible
-- Addon Creation Date: March 14, 2016
--
-- File Name: Languages/en.lua
-- File Description: English Localization
-- Load Order Requirements: None
-- 
-----------------------------------------------------------------------------------

-----------------------------------------------------------------------------------
--
-- TRANSLATION NOTES - PLEASE READ
--
-- If you are not looking to translate the addon you can ignore this. :D
--
-- If you ARE looking to translate this to something else then anything with a comment of Vital beside it is 
-- REQUIRED for the addon to function properly. These strings MUST BE TRANSLATED EXACTLY!
-- If only going for functionality, ctrl+f for Vital. Otherwise, you should just translate everything. Note that some strings 
-- Note that if you are going for a full translation, you must also translate defualt.lua and paste it into your localization file.
--
-- For languages that do not use the Latin Alphabet, there is also an optional langParser() function. IF the language you are translating
-- requires some changes to the WritCreater.parser() function then write the optional langParser() function here, and the addon
-- will use that instead. Just below is a commented out langParser for English. Be sure to remove the comments if rewriting it. [[  ]]
--
-- If you run into problems, please feel free to contact me on ESOUI.
--
-----------------------------------------------------------------------------------
--
--[[
function WritCreater.langParser(str)  -- Optional overwrite function for language translations
	local seperater = "%s+"

	str = string.gsub(str,":"," ")

	local params = {}
	local i = 1
	local searchResult1, searchResult2  = string.find(str,seperater)
	if searchResult1 == 1 then
		str = string.sub(str, searchResult2+1)
		searchResult1, searchResult2  = string.find(str,seperater)
	end

	while searchResult1 do

		params[i] = string.sub(str, 1, searchResult1-1)
		str = string.sub(str, searchResult2+1)
	    searchResult1, searchResult2  = string.find(str,seperater)
	    i=i+1
	end 
	params[i] = str
	return params

end
--]]

WritCreater = WritCreater or {}

local function proper(str)
	if type(str)== "string" then
		return zo_strformat("<<C:1>>",str)
	else
		return str
	end
end

function WritCreater.langWritNames() -- Vital
	-- Exact!!!  I know for german alchemy writ is Alchemistenschrieb - so ["G"] = schrieb, and ["A"]=Alchemisten
	local names = {
	["G"] = "委托",
	[CRAFTING_TYPE_ENCHANTING] = "附魔师",
	[CRAFTING_TYPE_BLACKSMITHING] = "铁匠",
	[CRAFTING_TYPE_CLOTHIER] = "制衣匠",
	[CRAFTING_TYPE_PROVISIONING] = "烹饪师",
	[CRAFTING_TYPE_WOODWORKING] = "木匠",
	[CRAFTING_TYPE_ALCHEMY] = "炼金术士",
	[CRAFTING_TYPE_JEWELRYCRAFTING] = "珠宝制作",
	}
	return names
end

function WritCreater.langCraftKernels()
	return 
	{
		[CRAFTING_TYPE_ENCHANTING] = "附魔",
		[CRAFTING_TYPE_BLACKSMITHING] = "锻造",
		[CRAFTING_TYPE_CLOTHIER] = "制衣",
		[CRAFTING_TYPE_PROVISIONING] = "烹饪",
		[CRAFTING_TYPE_WOODWORKING] = "木工",
		[CRAFTING_TYPE_ALCHEMY] = "炼金",
		[CRAFTING_TYPE_JEWELRYCRAFTING] = "珠宝",
	}
end

function WritCreater.langMasterWritNames() -- Vital
	local names = {
	["M"] 							= "大师级的",
	["M1"]							= "工艺精湛的",
	["M2"]							= "精妙绝伦的",
	["M3"]							= "完美无缺的",
	["M4"]							= "令人垂涎的",
	[CRAFTING_TYPE_ALCHEMY]					= "调和物",
	[CRAFTING_TYPE_ENCHANTING]				= "雕文",
	[CRAFTING_TYPE_PROVISIONING]				= "盛宴",
	["plate"]						= "护甲",
	["tailoring"]						= "剪裁",
	["leatherwear"]						= "皮衣",
	["weapon"]						= "武器",
	["shield"]						= "盾牌",
	}
return names

end

function WritCreater.writCompleteStrings() -- Vital for translation
	local strings = {
	["place"] = "将货物放",
	["sign"] = "签(.*)清单",
	["masterPlace"] = "我已",
	["masterSign"] = "<完",
	["masterStart"] = "<接受契约。>",
	["Rolis Hlaalu"] = "罗利斯·哈拉鲁", -- This is the same in most languages but ofc chinese and japanese
	["Deliver"] = "送至",
	}
	return strings
end


function WritCreater.languageInfo() -- Vital

local craftInfo = 
	{
		[ CRAFTING_TYPE_CLOTHIER] = 
		{
			["pieces"] = --exact!!
			{
				[1] = "长袍",
				[2] = "衬衫",
				[3] = "鞋子",
				[4] = "手套",
				[5] = "帽子",
				[6] = "长裤",
				[7] = "肩饰",
				[8] = "饰带",
				[9] = "上衣",
				[10]= "靴子",
				[11]= "护腕",
				[12]= "头盔",
				[13]= "护腿",
				[14]= "护肩",
				[15]= "腰带",
			},
			["match"] = --exact!!! This is not the material, but rather the prefix the material gives to equipment. e.g. Homespun Robe, Linen Robe
			{
				[1] = "手工", --lvtier one of mats
				[2] = "亚麻",	--l
				[3] = "棉",
				[4] = "蛛丝",
				[5] = "乌丝",
				[6] = "克雷什",
				[7] = "紫苑草织物",
				[8] = "银叶花织物",
				[9] = "影织",
				[10]= "先祖丝绸",
				[11]= "生皮",
				[12]= "兽皮",
				[13]= "皮革",
				[14]= "全皮",
				[15]= "兽皮",
				[16]= "布莱根丁防弹衣",
				[17]= "铁皮",
				[18]= "超级",
				[19]= "暗影兽皮",
				[20]= "赤晶皮革",
			},
	
		},
		[CRAFTING_TYPE_BLACKSMITHING] = 
		{
			["pieces"] = --exact!!
			{
				[1] = "斧头",
				[2] = "槌",
				[3] = "剑",
				[4] = "战斧",
				[5] ="重槌",
				[6] ="巨剑",
				[7] = "匕首",
				[8] = "胸铠",
				[9] = "足铠",
				[10] = "手铠",
				[11] = "重盔",
				[12] = "腿铠",
				[13] = "肩铠",
				[14] = "腰带",
			},
			["match"] = --exact!!! This is not the material, but rather the prefix the material gives to equipment. e.g. Iron Axe, Steel Axe
			{
				[1] = "铁",
				[2] = "钢",
				[3] = "黄铜",
				[4] = "锻莫",
				[5] = "乌木",
				[6] = "月长石铜",
				[7] = "水银钢",
				[8] = "水银",
				[9] = "虚无之钢",
				[10]= "赤晶",
			},

		},
		[CRAFTING_TYPE_WOODWORKING] = 
		{
			["pieces"] = --Exact!!!
			{
				[1] = "弓",
				[3] = "炼狱法杖",
				[4] ="寒冰法杖",
				[5] ="闪电法杖",
				[6] ="恢复法杖",
				[2] ="护盾",
			},
			["match"] = --exact!!! This is not the material, but rather the prefix the material gives to equipment. e.g. Maple Bow. Oak Bow.
			{
				[1] = "枫木",
				[2] =  "橡木",
				[3] =  "榉木",
				[4] = "山核桃木",
				[5] = "紫杉木",
				[6] =  "桦木",
				[7] = "梣木",
				[8] = "红木",
				[9] = "夜木",
				[10] = "赤晶梣木",
			},

		},
		[CRAFTING_TYPE_JEWELRYCRAFTING] = 
		{
			["pieces"] = --Exact!!!
			{
				[1] = "戒指",
				[2] = "项链",

			},
			["match"] = --exact!!! This is not the material, but rather the prefix the material gives to equipment. e.g. Maple Bow. Oak Bow.
			{
				[1] = "锡", -- 1
				[2] = "铜", -- 26
				[3] = "银", -- CP10
				[4] = "银金", --CP80
				[5] = "铂金", -- CP150
			},

		},
		[CRAFTING_TYPE_ENCHANTING] = 
		{
			["pieces"] = --exact!!
			{ --{String Identifier, ItemId, positive or negative}
				{"疾病抗性", 45841,2},
				{"肮脏", 45841,1},
				{"吸取耐力", 45833,2},
				{"吸取魔法", 45832,2},
				{"吸取生命", 45831,2},
				{"寒霜抗性",45839,2},
				{"寒霜",45839,1},
				{"降低武艺消耗", 45836,2},
				{"耐力回复", 45836,1},
				{"硬化", 45842,1},
				{"粉碎", 45842,2},
				{"棱镜猛攻", 68342,2},
				{"棱镜防御", 68342,1},
				{"支撑",45849,2},
				{"猛击",45849,1},
				{"毒素抗性",45837,2},
				{"毒素",45837,1},
				{"减少法术损害",45848,2},
				{"提高魔法损害",45848,1},
				{"魔力回复", 45835,1},
				{"降低法术消耗", 45835,2},
				{"电击抗性",45840,2},
				{"电击",45840,1},
				{"生命回复",45834,1},
				{"削减生命",45834,2},
				{"削弱",45843,2},
				{"武器伤害",45843,1},
				{"药水提升",45846,1},
				{"药水速度",45846,2},
				{"火焰抗性",45838,2},
				{"火焰",45838,1},
				{"减少物理损害", 45847,2},
				{"提高物理损害", 45847,1},
				{"耐力",45833,1},
				{"生命",45831,1},
				{"魔力",45832,1}
			},
			["match"] = --exact!!! The names of glyphs. The prefix (in English) So trifling glyph of magicka, for example
			{
				[1] = {"微不足道", 45855},
				[2] = {"次级",45856},
				[3] = {"微小",45857},
				[4] = {"轻微",45806},
				[5] = {"次要",45807},
				[6] = {"低级",45808},
				[7] = {"中度",45809},
				[8] = {"普通",45810},
				[9] = {"强大",45811},
				[10]= {"主要",45812},
				[11]= {"高级",45813},
				[12]= {"宏大",45814},
				[13]= {"辉煌",45815},
				[14]= {"纪念性",45816},
				[15]= {"真正超凡",{68341,68340,},},
				[16]= {"超级",{64509,64508,},},
				
			},
			["quality"] = 
			{
				{"普通",45850},
				{"优良",45851},
				{"上乘",45852},
				{"史诗",45853},
				{"传说",45854},
				{"", 45850} -- default, if nothing is mentioned. Default should be Ta.
			}
		},
	} 

	return craftInfo

end

function WritCreater.masterWritQuality() -- Vital . This is probably not necessary, but it stays for now because it works
	return {{"史诗",4},{"传说",5}}
end




function WritCreater.langEssenceNames() -- Vital

local essenceNames =  
	{
		[1] = "奥科", --health
		[2] = "德尼", --stamina
		[3] = "马可", --magicka
	}
	return essenceNames
end

function WritCreater.langPotencyNames() -- Vital
	--exact!! Also, these are all the positive runestones - no negatives needed.
	local potencyNames = 
	{
		[1] = "乔拉", --Lowest potency stone lvl
		[2] = "伯拉德",
		[3] = "杰拉",
		[4] = "杰乔拉",
		[5] = "欧达",
		[6] = "伯乔拉",
		[7] = "艾多拉",
		[8] = "杰拉",
		[9] = "伯拉",
		[10]= "德纳拉",
		[11]= "雷拉",
		[12]= "德拉多",
		[13]= "雷库拉",
		[14]= "库拉",
		[15]= "勒杰拉",
		[16]= "雷波拉", --v16 potency stone
		
	}
	return potencyNames
end

function WritCreater.questExceptions(condition)
	condition = string.gsub(condition, " "," ")
	return condition
end

function WritCreater.enchantExceptions(condition)

	condition = string.gsub(condition, " "," ")
	return condition
end


function WritCreater.langTutorial(i) 
	local t = {
		[5]="还有一些事情你应该知道。\n首先, /dailyreset 此命令会告诉你\n距离下一次服务器日常任务重置还有多久。",
		[4]="最后, 您也可以选择\n为每个专业停用或激活此插件。\n一般来说，所有可用制造都是默认开启的\n如果您想关闭其中的某些，请查看设置。",
		[3]="接下来，您需要选择当您使用制作台的时候\n是否希望看到此窗口。\n此窗口会告诉你完成委托需要多少材料, 以及你现在有多少。",
		[2]="要选择的第一个设置是\n您是否想使用自动制造。\n如果开启, 当您打开制作台时, 插件将自动开始制造。",
		[1]="欢迎使用懒人委托!\n首先，您应该选择几个设置。\n 您可以随时从设置菜单更改设置。",
	}
	return t[i]
end

function WritCreater.langTutorialButton(i,onOrOff) -- sentimental and short please. These must fit on a small button
	local tOn = 
	{
		[1]="使用默认",
		[2]="启用",
		[3]="显示",
		[4]="继续",
		[5]="完成",
	}
	local tOff=
	{
		[1]="继续",
		[2]="关闭",
		[3]="不显示",
	}
	if onOrOff then
		return tOn[i]
	else
		return tOff[i]
	end
end

function WritCreater.langStationNames()
	return
	{["锻造台"] = 1, ["制衣台"] = 2, 
	 ["附魔台"] = 3,["炼金术加工台"] = 4, ["烹饪火焰"] = 5, ["木工台"] = 6, ["珠宝制作台"] = 7, }
end
--[[
-- What is this??! This is just a fun 'easter egg' that is never activated on easter.
-- Replaces mat names with a random DivineMats on Halloween, New Year's, and April Fools day. You don't need this many! :D
-- Translate it or don't, completely up to you. But if you don't translate it, replace the body of 
-- shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit()
-- with just a return false. (This will prevent it from ever activating. Also, if you're a user and don't like this,
-- you're boring, and also that's how you can disable it. )
local DivineMats =
{
	{"Rusted Nails", "Ghost Robes", "","","", "Rotten Logs","Cursed Gold", "Chopped Liver", "Crumbled Gravestones", "Toad Eyes", "Werewolf Claws", "Zombie Guts", "Lizard Brains"},
	{"Buzzers","Sock Puppets", "Jester Hats","Otter Noses", "Red Herrings", "Wooden Snakes", "Gold Teeth", "Mudpies"},
	{"Coal", "Stockings", "","","","Evergreen Branches", "Golden Rings", "Bottled Time", "Reindeer Bells", "Elven Hats", "Pine Needles", "Cups of Snow"},
}

-- confetti?
-- random sounds?
-- 

local function shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit()
	if GetDate()%10000 == 1031 then return 1 end
	if GetDate()%10000 == 401 then return 2 end
	if GetDate()%10000 == 1231 then return 3 end
	if GetDisplayName() == "@Dolgubon" or GetDisplayName() == "@Gitaelia" or GetDisplayName() == "@mithra62" or GetDisplayName() == "@PacoHasPants" then
		return 2
	end
	return false
end
WritCreater.shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit = shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit


local function wellWeShouldUseADivineMatButWeHaveNoClueWhichOneItIsSoWeNeedToAskTheGodsWhichDivineMatShouldBeUsed() local a= math.random(1, #DivineMats ) return DivineMats[a] end
local l = shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit()

if l then
	DivineMats = DivineMats[l]
	local DivineMat = wellWeShouldUseADivineMatButWeHaveNoClueWhichOneItIsSoWeNeedToAskTheGodsWhichDivineMatShouldBeUsed()
	
	WritCreater.strings.smithingReqM = function (amount, _,more)
		local craft = GetCraftingInteractionType()
		DivineMat = DivineMats[craft]
		return zo_strformat( "Crafting will use <<1>> <<4>> (|cf60000You need <<3>>|r)" ,amount, type, more, DivineMat) end
	WritCreater.strings.smithingReqM2 = function (amount, _,more)
		local craft = GetCraftingInteractionType()
		DivineMat = DivineMats[craft]
		return zo_strformat( "As well as <<1>> <<4>> (|cf60000You need <<3>>|r)" ,amount, type, more, DivineMat) end
	WritCreater.strings.smithingReq = function (amount, _,more) 
		local craft = GetCraftingInteractionType()
		DivineMat = DivineMats[craft]
		return zo_strformat( "Crafting will use <<1>> <<4>> (|c2dff00<<3>> available|r)" ,amount, type, more, DivineMat) end
	WritCreater.strings.smithingReq2 = function (amount, _,more) 
		local craft = GetCraftingInteractionType()
		DivineMat = DivineMats[craft]
		return zo_strformat( "As well as <<1>> <<4>> (|c2dff00<<3>> available|r)" ,amount, type, more, DivineMat) end
end

-- ]]
-- [[ /script local writcreater = {} local c = {a = 1} local g = {__index = c} setmetatable(writ, g) d(a.a) local e = {__index = {Z = 2}} setmetatable(c, e) d(a.Z)
local h = {__index = {}}
local t = {}
local g = {["__index"] = t}
setmetatable(t, h)
setmetatable(WritCreater, g) --]]
--[[
local function enableAlternateUniverse(override)

	if shouldDivinityprotocolbeactivatednowornotitshouldbeallthetimebutwhateveritlljustbeforabit() == 2 or override then
	--if true then
		local stations = 
			{"Blacksmithing Station", "Clothing Station", "Enchanting Table",
			"Alchemy Station",  "Cooking Fire", "Woodworking Station","Jewelry Crafting Station",  "Outfit Station", "Transmute Station", "Wayshrine"}
			local stationNames =  -- in the comments are other names that were also considered, though not all were considered seriously
			{"Wightsmithing Station", -- Popcorn Machine , Skyforge, Heavy Metal Station, Metal Clockwork Solid, Wightsmithing Station., Coyote Stopper
			 "Sock Puppet Theatre", -- Sock Distribution Center, Soul-Shriven Sock Station, Grandma's Sock Knitting Station, Knits and Pieces, Sock Knitting Station
			"Top Hats Inc.", -- Mahjong Station, Magic Store, Card Finder, Five Aces, Top Hat Store
			"Seedy Skooma Bar", -- Chemical Laboratory , Drugstore, White's Garage, Cocktail Bar, Med-Tek Pharmaceutical Company, Med-Tek Laboratories, Skooma Central, Skooma Backdoor Dealers, Sheogorath's Pharmacy
			 "McDaedra Order Kiosk",--"Khajit Fried Chicken", -- Khajit Fried Chicken, soup Kitchen, Some kind of bar, misspelling?, Roast Bosmer
			 "IKEA Assembly Station", -- Chainsaw Massace, Saw Station, Shield Corp, IKEA Assembly Station, Wood Splinter Removal Station
			 "April Fool's Gold",--"Diamond Scam Store", -- Lucy in the Sky, Wedding Planning Hub, Shiny Maker, Oooh Shiny, Shiny Bling Maker, Cubit Zirconia, Rhinestone Palace
			 -- April Fool's Gold
			 "Khajit Fur Trade Outpost", -- Jester Dressing Room Loincloth Shop, Khajit Walk, Khajit Fashion Show, Mummy Maker, Thalmor Spy Agency, Tamriel Catwalk, 
			 --	Tamriel Khajitwalk, second hand warehouse,. Dye for Me, Catfur Jackets, Outfit station "Khajiit Furriers", Khajit Fur Trading Outpost
			 "Sacrificial Goat Altar",-- Heisenberg's Station Correction Facility, Time Machine, Probability Redistributor, Slot Machine Rigger, RNG Countermeasure, Lootcifer Shrine, Whack-a-mole
			 -- Anti Salt Machine, Department of Corrections, Quantum State Rigger , Unnerf Station
			 "TARDIS" } -- Transporter, Molecular Discombobulator, Beamer, Warp Tunnel, Portal, Stargate, Cannon!, Warp Gate
			
			local crafts = {"Blacksmithing", "Clothing", "Enchanting","Alchemy","Provisioning","Woodworking","Jewelry Crafting" }
			local craftNames = {
				"Wightsmithing",
				"Sock Knitting",
				"Top Hat Tricks",
				"Skooma Brewing",
				"McDaedra",--"Chicken Frying",
				"IKEA Assembly",
				"Fool's Gold Creation",
			}
			local quest = {"Blacksmith", "Clothier", "Enchanter" ,"Alchemist", "Provisioner", "Woodworker", "Jewelry Crafting","Provisioner Writ"}
			local questNames = 	
			{
				"Wightsmith",
				"Sock Knitter",
				"Top Hat Trickster",
				"Skooma Brewer",
				"McDaedra",--"Chicken Fryer",
				"IKEA Assembly",
				"Fool's Gold",
				"McDaedra Delivery",
			}
			local items = {"Blacksmith", "Clothier", "Enchanter", "alchemical", "food and drink",  "Woodworker", "Jewelry"}
			local itemNames = {
				"Wight",
				"Sock Puppet",
				"Top Hat",
				"Skooma",
				"McDaedra Nuggets",--"Fried Chicken",
				"IKEA",
				"Fool's Gold",
			}
			local coffers = {"Blacksmith", "Clothier", "Enchanter" ,"Alchemist", "Provisioner's Pack", "Woodworker", "Jewelry Crafter's",}
			local cofferNames = {
				"Wightsmith",
				"Sock Knitter",
				"Top Hat Trickster",
				"Skooma Brewer",
				"McDaedra Takeout",--"Chicken Fryer",
				"IKEA Assembly",
				"Fool's Gold",
			}
			local ones = {"Jewelry Crafter"}
			local oneNames = {"Fool's Gold"}
		

		local t = {["__index"] = {}}
		function h.__index.alternateUniverse()
			return stations, stationNames
		end
		function h.__index.alternateUniverseCrafts()
			return crafts, craftNames
		end
		function h.__index.alternateUniverseQuests()
			return quest, questNames
		end
		function h.__index.alternateUniverseItems()
			return items, itemNames
		end
		function h.__index.alternateUniverseCoffers()
			return coffers, cofferNames
		end
		function h.__index.alternateUniverseOnes()
			return ones, oneNames
		end
		

		h.__metatable = "No looky!"
		local a = WritCreater.langStationNames()
		a[1] = 1
		for i = 1, 7 do                                     --]]
--			a[stationNames[i]] = i
--[[		end
		WritCreater.langStationNames = function() 
			return a
		end
		local b =WritCreater.langWritNames()
		for i = 1, 7 do
			b[i] = questNames[i]
		end
		-- WritCreater.langWritNames = function() return b end

	end
end

-- For Transmutation: "Well Fitted Forever"
-- So far, I like blacksmithing, clothing, woodworking, and wayshrine, enchanting
-- that leaves , alchemy, cooking, jewelry, outfits, and transmutation

local lastYearStations = 
{"Blacksmithing Station", "Clothing Station", "Woodworking Station", "Cooking Fire", 
"Enchanting Table", "Alchemy Station", "Outfit Station", "Transmute Station", "Wayshrine"}
local stationNames =  -- in the comments are other names that were also considered, though not all were considered seriously
{"Heavy Metal 112.3 FM", -- Popcorn Machine , Skyforge, Heavy Metal Station
 "Sock Knitting Station", -- Sock Distribution Center, Soul-Shriven Sock Station, Grandma's Sock Knitting Station, Knits and Pieces
 "Splinter Removal Station", -- Chainsaw Massace, Saw Station, Shield Corp, IKEA Assembly Station, Wood Splinter Removal Station
 "McSheo's Food Co.", 
 "Tetris Station", -- Mahjong Station
 "Poison Control Centre", -- Chemical Laboratory , Drugstore, White's Garage, Cocktail Bar, Med-Tek Pharmaceutical Company, Med-Tek Laboratories
 "Thalmor Spy Agency", -- Jester Dressing Room Loincloth Shop, Khajit Walk, Khajit Fashion Show, Mummy Maker, Thalmor Spy Agency, Morag Tong Information Hub, Tamriel Spy HQ, 
 "Department of Corrections",-- Heisenberg's Station Correction Facility, Time Machine, Probability Redistributor, Slot Machine Rigger, RNG Countermeasure, Lootcifer Shrine, Whack-a-mole
 -- Anti Salt Machine, Department of Corrections
 "Warp Gate" } -- Transporter, Molecular Discombobulator, Beamer, Warp Tunnel, Portal, Stargate, Cannon!, Warp Gate

-- enableAlternateUniverse(GetDisplayName()=="@Dolgubon")
enableAlternateUniverse()

local function alternateListener(eventCode,  channelType, fromName, text, isCustomerService, fromDisplayName)
	if not WritCreater.alternateUniverse and fromDisplayName == "@Dolgubon"and (text == "Let the Isles bleed into Nirn!" ) then	
		enableAlternateUniverse(true)
		WritCreater.WipeThatFrownOffYourFace(true)	
	end	
	-- if GetDisplayName() == "@Dolgubon" then
	-- 	enableAlternateUniverse(true)	
	-- 	WritCreater.WipeThatFrownOffYourFace(true)	
	-- end
end	
-- 20764
-- 21465

EVENT_MANAGER:RegisterForEvent(WritCreater.name,EVENT_CHAT_MESSAGE_CHANNEL, alternateListener)

--Hide craft window when done
--"Verstecke Fenster anschließend",
-- [tooltip ] = "Verstecke das Writ Crafter Fenster an der Handwerksstation automatisch, nachdem die Gegenstände hergestellt wurden"
--]]
function WritCreater.langWritRewardBoxes () return {
	[CRAFTING_TYPE_ALCHEMY] = "炼金术士的器皿",
	[CRAFTING_TYPE_ENCHANTING] = "附魔师的宝箱",
	[CRAFTING_TYPE_PROVISIONING] = "厨师的包裹",
	[CRAFTING_TYPE_BLACKSMITHING] = "铁匠的木箱",
	[CRAFTING_TYPE_CLOTHIER] = "制衣(.*)的背包",
	[CRAFTING_TYPE_WOODWORKING] = "木匠的箱子",
	[CRAFTING_TYPE_JEWELRYCRAFTING] = "珠宝工匠盒",
	[8] = "箱",
}
end


function WritCreater.getTaString()
	return "塔"
end

WritCreater.optionStrings["alternate universe"] = "关闭愚人玩笑"
WritCreater.optionStrings["alternate universe tooltip"] = "关闭制造，制造站和其他交互的改名功能。(这个功能是个作者做的彩蛋，愚人节随机改制作台和材料的名字，太无聊了……)"

WritCreater.lang = "zh"
WritCreater.langIsMasterWritSupported = true

--[[
SLASH_COMMANDS['/opencontainers'] = function()local a=WritCreater.langWritRewardBoxes() for i=1,200 do for j=1,6 do if a[j]==GetItemName(1,i) then if IsProtectedFunction("endUseItem") then
	CallSecureProtected("endUseItem",1,i)
else
	UseItem(1,i)
end end end end end]]
